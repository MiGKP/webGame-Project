<nav class="navbar-container">
  <div class="nav-left">
    <a *ngIf="(userService.currentUser$ | async)?.role === 'admin'" routerLink="/admin" routerLinkActive="active-link"  class="logo">Dashboard</a>
    <a routerLink="/shop" class="logo">GameShop</a>
    <a routerLink="/shop" routerLinkActive="active-link">‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤</a>
    <a routerLink="/library" routerLinkActive="active-link">‡∏Ñ‡∏•‡∏±‡∏á‡πÄ‡∏Å‡∏°</a>
  </div>

  <div class="nav-right" *ngIf="userService.currentUser$ | async as currentUser">

    <a routerLink="/cart" class="cart-link" routerLinkActive="active-link">
      üõí
      <span class="cart-badge" *ngIf="(cartItemCount$ | async) as count">{{ count > 0 ? (count > 9 ? '9+' : count) : '' }}</span>
    </a>

    <div class="profile-dropdown">
      <img [src]="currentUser.photoURL" [alt]="currentUser.displayName" class="profile-pic" (click)="toggleDropdown()">
      
      <div class="dropdown-content" *ngIf="isDropdownOpen">
        <div class="dropdown-header">
          Signed in as
          <strong>{{ currentUser.displayName }}</strong>
        </div>
        <a routerLink="/profile" (click)="toggleDropdown()">Profile</a>
        <a (click)="logout()" class="logout-link">Logout</a>
      </div>
    </div>
  </div>
</nav>